{% extends 'base.html' %}
{% block title %}Booking Details{% endblock %}
{% block content %}
<div class="container col-md-8 mt-5">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-primary text-white">
      <h5><i class="bi bi-receipt"></i> Booking Details</h5>
    </div>
    <div class="card-body">
      <p><strong>Booking ID:</strong> {{ booking.booking_id }}</p>
      <p><strong>Garage:</strong> {{ booking.garage.name }}</p>
      <p><strong>Service:</strong> {{ booking.service.name }}</p>
      <p><strong>Vehicle:</strong> {{ booking.vehicle.brand }} {{ booking.vehicle.model }}</p>
      <p><strong>Delivery:</strong> {{ booking.delivery_option }}</p>
      <p><strong>Date:</strong> {{ booking.appointment_date|date:"d M Y" }}</p>
      <p><strong>Status:</strong> 
        <span class="badge bg-{% if booking.status == 'Completed' %}success{% elif booking.status == 'In Service' %}warning{% elif booking.status == 'Ready' %}info{% else %}secondary{% endif %}">
          {{ booking.status }}
        </span>
      </p>
      {% if booking.remarks %}<p><strong>Remarks:</strong> {{ booking.remarks }}</p>{% endif %}
      <hr>
      <div class="text-end">
        {% if booking.status == 'Completed' %}
        <a href="{% url 'bookings:download_invoice' booking.id %}" class="btn btn-outline-success">
          <i class="bi bi-download"></i> Download Invoice
        </a>
        {% endif %}
        <a href="{% url 'bookings:booking_list' %}" class="btn btn-outline-secondary">Back</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
